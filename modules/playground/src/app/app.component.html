<div class="panels">

  <!-- Options ----------------------------------------------------------------------------------------------------- -->

  <div id="options">
    <h3>Options</h3>
    <hr>
    <table>
      <tr>
        <td>Url</td>
        <td><input [(ngModel)]="url" type="url" placeholder="URL of website"></td>
      </tr>
      <tr>
        <td>Output</td>
        <td>
          <select [ngModel]="options.output">
            <option [ngValue]="output" *ngFor="let output of outputs">{{ output }}</option>
          </select>
        </td>
      </tr>
      <tr>
        <td>Source</td>
        <td>
          <select [ngModel]="options.source">
            <option [ngValue]="source" *ngFor="let source of sources">{{ source }}</option>
          </select>
        </td>
      </tr>
      <tr>
        <td>Page Resolutions</td>
        <td>
          <select [ngModel]="options.pageResolution">
            <option [ngValue]="pageResolution" *ngFor="let pageResolution of pageResolutions">{{ pageResolution }}</option>
          </select>
        </td>
      </tr>
      <tr>
        <td>Use Existing Feed</td>
        <td><input type="checkbox" [ngModel]="options.preferExistingFeed"></td>
      </tr>
    </table>
    <button (click)="parseUrl()">Parse</button>
  </div>


  <!-- Editor ------------------------------------------------------------------------------------------------------ -->

  <div id="editor">
    <h3>Markup</h3>
    <hr>
    <textarea [(ngModel)]="html" placeholder="HTML markup of website"></textarea>
    <button (click)="parseHtml()">Parse HTML</button>
  </div>
</div>

<div class="panels">


  <!-- Console -------------------------------------------------------------------------------------------------------- -->

  <div id="console">
    <h3>Console</h3>
    <hr>
  </div>

  <!-- Feed -------------------------------------------------------------------------------------------------------- -->

  <div id="feed" style="overflow: auto">
    <h3>Feed</h3>
    <hr>
    <select (change)="applyRuleFromEvent($event)" [(ngModel)]="currentRule">
      <option *ngFor="let rule of rules" [ngValue]="rule">{{ rule?.score }} {{ rule?.id }}</option>
    </select>
    <div>
      <div>Score: {{currentRule?.score}}</div>
      <div>Stats: {{currentRule?.stats | json}}</div>
      <div>title: {{currentRule?.titlePath }}</div>
      <div>link: {{currentRule?.linkPath }}</div>
      <div>Common: {{currentRule?.commonTextNodePath }}</div>
      <div>{{ articles?.length }} articles</div>
      <pre [innerText]="json"></pre>
    </div>
  </div>

</div>
