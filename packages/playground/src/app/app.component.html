<div class="playground">
  <div class="playground__header">

    <div>
      <label>
        Url:
        <input [(ngModel)]="url" type="url" placeholder="URL of website">
      </label>

      <label>
        <input type="checkbox" [checked]="showMarkup" (change)="showMarkup = !showMarkup">
        Markup
      </label>
      <label>
        <input type="checkbox" [checked]="showConsole" (change)="showConsole = !showConsole">
        Console
      </label>
      <label>
        <input type="checkbox" [checked]="showFeed" (change)="showFeed = !showFeed">
        Feed
      </label>
      <label>
        <input type="checkbox" [checked]="showArticles" (change)="showArticles = !showArticles">
        Articles
      </label>

      <button (click)="reset()">Reset</button>
      <input type="button" value="Parse" (click)="parseFromUrl()">
    </div>
    <div>
      Direct Feed Url: <a [href]="getFeedUrl()">{{ getFeedUrl() }}</a>
    </div>
  </div>

  <div class="playground__panels">

    <!-- Markup ----------------------------------------------------------------------------------------------- -->

    <app-panel id="editor" name="Markup" *ngIf="showMarkup">
      <textarea [(ngModel)]="html" placeholder="HTML markup of website"></textarea>
      <button (click)="parseHtml()">Parse HTML</button>
    </app-panel>


    <!-- Console ----------------------------------------------------------------------------------------------------- -->

    <app-panel id="console" name="Console" *ngIf="showConsole">
      <div *ngFor="let log of logs">
        {{ log }}
      </div>
    </app-panel>

    <!-- Feed -------------------------------------------------------------------------------------------------------- -->

    <app-panel id="feed" style="overflow: auto" [name]="getFeedPanelName()" *ngIf="showFeed">
      <select [(ngModel)]="options.output">
        <option [ngValue]="output" *ngFor="let output of outputs">{{ output }}</option>
      </select> - {{optionsFromParser.output}}

      <select [(ngModel)]="options.content">
        <option [ngValue]="pageResolution" *ngFor="let pageResolution of pageResolutions">{{ pageResolution }}</option>
      </select> - {{ optionsFromParser.content }}


      <pre [innerText]="feedData"></pre>
    </app-panel>

    <!-- Articles -------------------------------------------------------------------------------------------------- -->

    <app-panel id="articles" style="overflow: auto" name="Articles" *ngIf="showArticles">
      <select (change)="applyRuleFromEvent($event)" [(ngModel)]="currentRule">
        <option *ngFor="let rule of rules" [ngValue]="rule">{{ rule?.score }} points / {{ rule?.articles?.length }} articles / {{ rule?.id }}</option>
      </select>
      <div>
        <div>Score: {{currentRule?.score}}</div>
        <div>Title: {{currentRule?.titlePath }}</div>
        <div>Link: {{currentRule?.rule.linkPath }}</div>
        <div>Context: {{currentRule?.rule.contextElementPath }}</div>
        <div>{{ articles?.length }} articles</div>
        <pre [innerText]="getArticles()"></pre>
      </div>
    </app-panel>

  </div>
</div>
