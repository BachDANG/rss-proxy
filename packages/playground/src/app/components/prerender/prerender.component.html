<div class="flex">
  <app-section title="Options for Dynamic" [active]="!hasChosen">
    <aside class="aside">
      <div class="field">
        <label class="label">Puppeteer Script</label>
        <div class="control">
          <textarea
            class="textarea puppeteer-script"
            [ngClass]="{ 'is-primary': puppeteerScript?.length > 0 }"
            [(ngModel)]="puppeteerScript"
          ></textarea>
        </div>
        <button class="button is-expanded is-loading" (click)="refresh()">Refresh</button>
      </div>
      <ul class="menu-list">
        <li>
          <a
            [ngClass]="{ 'is-active': genericFeedRules }"
            (click)="useGenericFeeds()"
            >Feeds in Markup</a
          >
        </li>
        <li>
          <a
            [ngClass]="{ 'is-active': watchPageChanges }"
            (click)="useWatchPageChanges()"
            >Watch page changes</a
          >
        </li>
      </ul>
    </aside>

    <div class="source" *ngIf="response">
      <div class="error-message"
           *ngIf="errorMessage">{{ errorMessage }}</div>
      <img [src]="imageUrlSanitizes" alt="wefwef"/>
    </div>
    <div class="source" *ngIf="!response">
      <app-spinner></app-spinner>
    </div>
  </app-section>

    <app-generic-feeds
      *ngIf="genericFeedRules"
      class="flex"
      [genericFeedRules]="response.results.genericFeedRules"
      [url]="response.options.harvestUrl"
      [body]="response.results.body"
    ></app-generic-feeds>

<!--    <app-watch-page-change-->
<!--      *ngIf="watchPageChanges"-->
<!--      class="flex"-->
<!--      [siteUrl]="response.options.harvestUrl"-->
<!--      [body]="response.results.body"-->
<!--    ></app-watch-page-change>-->
</div>

