<div class="playground is-size-6">
  <div style="padding-bottom: 5px">
    <form (ngSubmit)="parseFromUrl()">
      <div class="field has-addons is-expanded">
        <div
          class="control is-expanded"
          [ngClass]="{ 'is-loading': isLoading }"
        >
          <input
            class="input is-expanded"
            type="url"
            placeholder="Enter a URL of website or feed"
            [(ngModel)]="url"
            [autofocus]="true"
            autocomplete="off"
            autofocus
            name="url"
            required
          />
        </div>
        <div class="control">
          <button class="button" *ngIf="actualUrl" (click)="resetAll()">
            X
          </button>
          <button
            class="button"
            [ngClass]="{ 'is-primary': !actualUrl }"
            (click)="parseFromUrl()"
          >
            Parse
          </button>
        </div>
      </div>
    </form>

    <div *ngIf="!isLoading && !actualUrl && history.length > 0">
      <p>
        <strong>Previous URLs</strong>
      </p>
      <p *ngFor="let url of history">
        <a (click)="parseFromHistoryUrl(url)" href="javascript:void(0)">{{
          url
        }}</a>
      </p>
    </div>
  </div>

  <app-spinner *ngIf="isLoading"></app-spinner>

  <article *ngIf="response?.results?.errorMessage" class="message is-danger">
    <div class="message-body">
      {{ errorMessage }}
    </div>
  </article>

  <div
    *ngIf="response && !response?.results?.errorMessage"
    style="display: flex; flex-direction: row; flex: 1; overflow-x: auto"
  >
    <app-options
      *ngIf="response"
      [response]="response"
      [static]="true"
      style="display: flex; margin-right: 200px"
    ></app-options>
  </div>

  <app-footer></app-footer>
</div>
